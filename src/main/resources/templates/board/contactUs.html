<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" layout:decorator="layout/default"  >
<section layout:fragment="content">

    <div class="container space-2 space-3--lg">
        <!--view-->
        <div th:unless="${register}" th:object="${contact}">
            <div class="row" >
                <span th:if="*{answerFlag}" class="text-danger">답변완료</span>
                <span th:unless="*{answerFlag}" class="text-danger">답변대기</span>
                <span th:text="*{title}"></span>
                <span th:text="*{#dates.format(regDate, 'yyyy.MM.dd')}"></span>
            </div>
            <div th:text="*{contents}"></div>
            <div th:text="*{answer}"></div>
            <div th:text="*{#dates.format(answerDate, 'yyyy.MM.dd')}"></div>
            <a  role="button" class="btn btn-primary" th:href="list">목록</a>
        </div>

        <!--등록-->
        <div  th:if="${register}" class="js-validate rounded p-sm-7 mx-lg-auto" >
            <!-- Contact Us Form -->
            <form method="post">
                <input type="hidden" id="csrf" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                    <div class="row mb-5">
                        <div class="col-md-2">
                            <label class="h6 small d-block text-uppercase mb-3 mb-lg-0">성명:</label>
                           <!-- <span sec:authentication="principal.username"></span>-->
                        </div>
                        <div class="col-md-10">
                            <div class="js-form-message">
                                <div class="js-focus-state input-group form">
                                    <sec:authentication property="principal.mobile" var="mobile">
                                    <input class="form-control form__input" type="text" name="reqName" th:value="${#authentication.principal.username}" required
                                           data-msg="Please enter your frist name."
                                           data-error-class="u-has-error"
                                           data-success-class="u-has-success"
                                    </sec:authentication>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col-md-2">
                            <label class="h6 small d-block text-uppercase mb-3 mb-lg-0">연락처:</label>
                        </div>
                        <div class="col-md-10">
                            <div class="js-form-message">
                                <div class="js-focus-state input-group form">
                                    <input class="form-control form__input" type="text"  name="reqMobile" th:value="${#authentication.principal.mobile}" required
                                           data-msg="Please enter your frist name."
                                           data-error-class="u-has-error"
                                           data-success-class="u-has-success">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col-md-2">
                            <label class="h6 small d-block text-uppercase mb-3 mb-lg-0">제목:</label>
                        </div>
                        <div class="col-md-10">
                            <div class="js-form-message">
                                <div class="js-focus-state input-group form">
                                    <input class="form-control form__input" type="text" name="title" required
                                           data-msg="Please enter your frist name."
                                           data-error-class="u-has-error"
                                           data-success-class="u-has-success">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col-md-2">
                            <label class="h6 small d-block text-uppercase mb-3 mb-lg-0">내용:</label>
                        </div>
                        <div class="col-md-10">
                            <div class="js-form-message">
                                <div class="js-focus-state input-group form">
                                    <textarea class="form-control form__input" rows="4" name="contents" required
                                    placeholder=""
                                    aria-label=""
                                    data-msg="Please enter a reason."
                                    data-error-class="u-has-error"
                                    data-success-class="u-has-success"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                <!-- End Input Form -->

                <div class="row">
                    <div class="col-md-8 offset-md-4">
                        <input type="submit" class="btn btn-primary btn-wide" value="입력완료"/>
                    </div>
                </div>
            </form>
            <!-- End Contact Us Form -->
        </div>
        <!-- Contacts Section -->

    </div>

    <script th:inline="javascript">
        /*<![CDATA[*/

        /*]]>*/
    </script>
</section>
</html>
